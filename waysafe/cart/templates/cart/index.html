<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}

<head>

<!-- Bootstrap -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Omnifood is a premium food delivery service with the mission to bring affordable and healty meals to as many people as possible.">



        <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/normalize.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/grid.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/ionicons.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/animate.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'resources/css/style.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'resources/css/queries.css' %}">
        <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,300italic' rel='stylesheet' type='text/css'>
        <title>WaySafe</title>

        <link rel="apple-touch-icon" sizes="57x57" href="{% static 'resources/favicons/apple-touch-icon-57x57.png' %}">
        <link rel="apple-touch-icon" sizes="60x60" href="{% static 'resources/favicons/apple-touch-icon-60x60.png' %}">
        <link rel="apple-touch-icon" sizes="72x72" href="{% static 'resources/favicons/apple-touch-icon-72x72.png' %}">
        <link rel="apple-touch-icon" sizes="76x76" href="{% static 'resources/favicons/apple-touch-icon-76x76.png' %}">
        <link rel="apple-touch-icon" sizes="114x114" href="{% static 'resources/favicons/apple-touch-icon-114x114.png' %}">
        <link rel="apple-touch-icon" sizes="120x120" href="{% static 'resources/favicons/apple-touch-icon-120x120.png' %}">
        <link rel="apple-touch-icon" sizes="144x144" href="{% static 'resources/favicons/apple-touch-icon-144x144.png' %}">
        <link rel="apple-touch-icon" sizes="152x152" href="{% static 'resources/favicons/apple-touch-icon-152x152.png' %}">
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'resources/favicons/apple-touch-icon-180x180.png' %}">
        <link rel="icon" type="image/png" href="{% static 'resources/favicons/favicon-32x32.png' %}" sizes="32x32">
        <link rel="icon" type="image/png" href="{% static 'resources/favicons/favicon-194x194.png' %}" sizes="194x194">
        <link rel="icon" type="image/png" href="{% static 'resources/favicons/favicon-96x96.png' %}" sizes="96x96">
        <link rel="icon" type="image/png" href="{% static 'resources/favicons/android-chrome-192x192.png' %}" sizes="192x192">
        <link rel="icon" type="image/png" href="{% static 'resources/favicons/favicon-16x16.png' %}" sizes="16x16">
        <link rel="manifest" href="{% static 'resources/favicons/manifest.json' %}">
        <link rel="shortcut icon" href="{% static 'resources/favicons/favicon.ico' %}">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-TileImage" content="{% static 'resources/favicons/mstile-144x144.png' %}">
        <meta name="msapplication-config" content="{% static 'resources/favicons/browserconfig.xml' %}">
        <meta name="theme-color" content="#ffffff">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.sidenav a {
    padding: 6px 6px 6px 32px;
    text-decoration: none;
    font-size: 25px;
    color: #f8cc05;
    display: block;
    background-color:#0055a2
}

a:hover, a:active
{
    border-bottom:0px solid
}

table
{
    border-collapse:initial
}

.w3-light-grey,.w3-hover-light-grey:hover,.w3-light-gray,.w3-hover-light-gray:hover{color:#000!important;background-color:#f1f1f1!important}
.w3-green,.w3-hover-green:hover{color:#fff!important;background-color:#0055a2!important}
</style>
</head>
{% block body %}


<body>

{%  include 'index/base_navBar.html' %}

<div class="row">
    <br><br>
    <h2>cart</h2>
</div>


 <div >
      <div>
      <table style="margin: 0 20% 3% 20%">
        <thead>
          <tr >
            <th class="first" style="padding: 10px">Product ID</th>
              <th class="first" style="padding: 10px">Name</th>
            <th class="third" style="padding: 10px">Qty</th>
            <th class="fourth" style="padding: 10px">Price</th>
              <th class="fifth" style="padding: 10px">Total</th>
            <th class="fifth" style="padding: 10px">&nbsp;</th>
          </tr>
        </thead>
        <tbody>

        {% for item in cartitemsid %}
        <tr class="productitm" style="width: 800px; max-width: 500px; border: 3px solid black ; margin: 10px 10px 10px 10px">
            <td style="padding: 10px">{{ item.id }} </td>
            <td style="padding: 10px">{{ item.item_name}}</td>
            <td style="padding: 10px 30px 10px 30px">{{ item.quantity }}</td>
            <td style="padding: 10px 30px 10px 50px">${{ item.price|floatformat:2 }}</td>
            <td style="padding: 10px 30px 10px 40px">${{ item.price|floatformat:2 }}</td>
            <td style="padding: 10px">
{#                <a class="btn btn-full js" class = "delete-button" value = "{{ i.item_list }}" href="#" style="border-radius: 25px; padding: 10px; width: 110px; text-align:center;">Delete</a>#}
{#                <button style="background-color:#0055A2; border: 1px solid #0055A2; color:#fff; border-radius:200px; padding:10px 30px" type="submit" onclick= "myFunction({{ items.id }})" name = "{{ items.item_name }}" value ="{{ items.id }}"class="delete-button" data-info="{{ items.item_name }}"data-price="{{ items.price }}"style="background-color:#0055A2; font-size: 14px; color: #ffffff; padding-bottom: 14px;">#}
{#                <button style="background-color:#0055A2; border: 1px solid #0055A2; color:#fff; border-radius:200px; padding:10px 30px" type="submit" onclick = "myFunction({{ items.id}})" id= "{{ items.id }}" name = "{{ items.item_name }}" value ="{{ items.id }}"class="delete-button" data-info="{{ items.item_name }}"data-price="{{ items.price }}"style="background-color:#0055A2; font-size: 14px; color: #ffffff; padding-bottom: 14px;">#}
{#                <button style="background-color:#0055A2; border: 1px solid #0055A2; color:#fff; border-radius:200px; padding:10px 30px" type="submit" onclick = "myFunction({{ item.id}})" id="{{ item.id }}" name = "{{ item.item_name }}" value ="{{ item.id }}"class="delete-button" data-info="{{ item.item_name }}"data-price="{{ item.price }}"style="background-color:#0055A2; font-size: 14px; color: #ffffff; padding-bottom: 14px;">#}
                <a href="delete/{{ item.id }}"
                        style="background-color:#0055A2; border: 1px solid #0055A2; color:#fff; border-radius:200px; padding:10px 30px"
                        id = "{{ item.id }}"
                        name = "{{ item.item_name }}"
                        quantity ="{{ item.quantity}}"
                        class="delete-button"
                        data-info="{{ item.item_name }}"
                        data-price="{{ item.price }}"
                        style="background-color:#0055A2; font-size: 14px; color: #ffffff; padding-bottom: 14px;">

                    Delete
                </a>
{#                <button style="background-color:#0055A2; border: 1px solid #0055A2; color:#fff; border-radius:200px; padding:10px 30px" type="submit" onclick = "myFunction({{ items.id}})" id= "{{ items.id }}" name = "{{ items.item_name }}" value ="{{ items.id }}"class="delete-button" data-info="{{ items.item_name }}"data-price="{{ items.price }}"style="background-color:#0055A2; font-size: 14px; color: #ffffff; padding-bottom: 14px;">#}

            </td>

            <script>
                function myFunction(test){
                  //var quantityamount = document.getElementById(test).value
                  //var a = 234;
                   //alert(quantityamount);
                }
                </script>
        </tr>

          {% endfor %}
          <tr class="productitm" style="width: 800px; max-width: 500px; border: 3px solid black ; margin: 10px 10px 10px 10px">
            <td style="padding: 10px"> </td>
            <td style="padding: 10px">10% off for $50 purchase</td>
            <td style="padding: 10px 30px 10px 30px"></td>
            <td style="padding: 10px 30px 10px 50px"></td>
            <td style="padding: 10px 30px 10px 40px">-$10</td>
              <td style="padding: 10px 30px 10px 25px">Will be applied at checkout</td>

        </tr>
          </tbody>




      </table>
         <center><hr width="60%"></center>
          <br><br>
<h2>Total Cost: ${{total|floatformat:2}} </h2>
          <center> <input type="button" onclick="move()" id="btnRedirect" style="background-color:#0055A2; border: 1px solid #0055A2; color:#fff; border-radius:200px; padding:10px 30px"   value="Checkout" /></center>
              </div>
        </div>
<br><br>
<div class="w3-light-grey" style="width:50%;  margin: 0 auto">
    <div id="myBar" class="w3-green" style="height:24px;width:0"></div>
  </div>
  <br>

</div>

<div id="dvCountDown" style="display: none">
    <center>You will be redirected after <span id="lblCount"></span>&nbsp;seconds.</center>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
$(function () {
    $("#btnRedirect").click(function () {
        var seconds = 3;
        $("#dvCountDown").show();
        $("#lblCount").html(seconds);
        setInterval(function () {
            seconds--;
            $("#lblCount").html(seconds);
            if (seconds == 0) {
                $("#dvCountDown").hide();
                window.location = "/payment";
            }
        }, 1000);
    });
});

function move() {
  var elem = document.getElementById("myBar");
  var width = 1;
  var id = setInterval(frame, 23);
  function frame() {
    if (width >= 100) {
      clearInterval(id);
    } else {
      width++;
      elem.style.width = width + '%';
    }
  }
}
</script>



<br><br>
{%  include 'index/base_footer.html' %}

</body>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
   if( !window.jQuery ) document.write('<script src={% static 'resources/js/jquery-3.0.0.min.js' %}><\/script>');
</script>

<script src="{% static 'resources/js/delete.js' %}"></script>

{% endblock %}
</html>
